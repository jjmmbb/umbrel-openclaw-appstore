version: "3.7"

services:
  app_proxy:
    environment:
      APP_HOST: editorzz-openclaw_openclaw_1
      APP_PORT: 18789
      PROXY_AUTH_ADD: "false"

  openclaw:
    image: ghcr.io/openclaw/openclaw:main
    restart: unless-stopped
    command: >
      node dist/index.js gateway
      --bind lan
      --port 18789
      --allow-unconfigured
      --token "${CLAWDBOT_GATEWAY_TOKEN}"
    environment:
      NODE_ENV: production
      CLAWDBOT_GATEWAY_TOKEN: "${APP_SEED}"
    volumes:
      - ${APP_DATA_DIR}/data:/home/node
